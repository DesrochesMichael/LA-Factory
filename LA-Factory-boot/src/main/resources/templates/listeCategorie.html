<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>LA-Factory catégories</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
<meta charset="UTF-8">
</head>

<body>

	<nav th:replace="navigation.html"></nav>
	<h2>Catégorie des différents modèles</h2>

	<div class="container">
		<table class="table table-striped">

			<thead class="thead-dark">
				<tr>
					<th scope="col">Id</th>
					<th scope="col">Nom</th>
					<th scope="col">Parent</th>
					<th scope="col"></th>
					<th scope="col"></th>
				</tr>

			</thead>
			<tbody>

				<tr th:each="categorie: ${categories}">
					<td scope="row" th:text="${categorie.id}"></td>
					<td scope="row" th:text="${categorie.nom}"></td>
					<td scope="row" th:if="${categorie.parent == null}">Pas de
						parent</td>
					<td scope="row" th:if="${categorie.parent != null}"
						th:text="${categorie.parent.nom}"></td>


					<td><a class="btn btn-warning"
						th:href="@{editCategorie(id=${categorie.id})}"> Editer</a></td>
					<td><a class="btn btn-danger"
						th:href="@{supCategorie(id=${categorie.id})}"> Supprimer</a></td>

				</tr>
			</tbody>
		</table>

		<a href=ajoutCategorie class="btn btn-success">Creer une categorie</a>

		<!-- 
<form method="post">
	
<div th:if="${cat.id==0}">
			nom : <input type="text" name="cat_nom" placeholder="nom de la nouvelle categorie">
		</div>
		<div th:if="${cat.id!=0}">
			nom : <input type="text" name="cat_nom"
				th:value="${categorie.nom}">
</div>
		
<div>
			parent : <select name="cat.id" class="form-control">
						<option th:each="categorie : ${categories}"
								th:value="${ categorie.id }" 
								th:text="${ categorie.nom }"
								th:selected="${ categorie.id ==cat?.parent?.id }">
						</option>
					</select>
		</div>
		
		
		
		<div>
			<button type="submit" th:if="${cat.id==0}" class="btn btn-warning">ajouter</button>
			<button type="submit" th:if="${cat.id!=0}" class="btn btn-danger">modifier</button>
		</div>
	</form>
 -->

	</div>
</body>
</html>